\documentclass[../Notes.tex]{subfiles}

\begin{document}

\chapter{Numbers}

\begin{itemize}
	\item $\floor*{a/(bc)} = \floor*{\floor*{a/b}/c}$
	\item Number of perfect squares in $[l,r], l\leq r$ is $\floor{\sqrt{r}}-\ceil{\sqrt{l}}+1$  
	\item $\frac{1}{1}+\frac{1}{2}+\frac{1}{3}+...$ is divergent.
	Sum of first n elements \\
	$\ln(n+1)\le\sum_{i=1}^n\frac1i\le\ln(n)+1$
	\href{./Material/divergent series proof.pdf}{Proof link}
	\item the factors of any number are quite smaller compared to the  number. There doesn't exist a pair of distinct factors whose sum is $\geq$ the actual number.
	\item 'a' is multiple of $n_1$ and 'a' is multiple of $n_2$ iff 'a' is multiple of $LCM(n_1,n_2)$. 
	\item similarly 'd' is divisor of $n_1$ and 'd' is divisor of $n_2$ iff 'd' is divisor of $GCD(n_1,n_2)$.
	\item The set of all integer combinations of a and b is precisely the set of all integer multiples of the GCD of a and b. \href{https://proofwiki.org/wiki/Set_of_Integer_Combinations_equals_Set_of_Multiples_of_GCD}{proof}
	\item The above statement is generalized version of Bezout's identity.
	\item $dp[i][j]$, number of subsets of length i whose gcd is j, then\\
	$dp[i][j]={cnt_j\choose i}-\sum_{k=2}^{\infty}dp[i][k*j]$, where $cnt_j$ is number of elements divisible by j. This is a generalized version of simply finding number of subsets of gcd exactly == j(which is solved similarly but with 1-dim dp).
	\item $GCD(a_l,a_{l+1},..a_r) = GCD(a_l,a_{l+1}-a_l,a_{l+2}-a_{l+1},..,a_r-a_{r-1})$
	\item Range queries for GCD with a single update is straight forward. But for range update, we keep two segment trees, one to find a single element with the range update, one over difference between adjacent elements to get GCD over range of difference array. As for difference array only two elements change with range update(update is addition). We answer in $O(lgn)$ using above formula.
	\item if d is gcd of a list of numbers. Then d divides thier sum.
	\item In gcd problems, iterating over the prime divisors(and enumerating all the elements which are multiples of this) almost always works, Instead of iteration over all divisors.The first method has less complexity as every element has atmost $lgn$ prime divisors but $n^\frac{1}{3}$ factors hence getting enumerated only $lgn$ times.
	\item $n!(mod m)$ is zero when $n\geq m$.
	\item $$\sum_{i=0}^{n}i.i!=(n+1)!-1$$. 
	\item There is a number system called \textbf{Factorial number system}.
	From the above fact any number can be uniquely represented in this system.
	\item For $m,n\ge 1$ $\mbox{gcd}(f_{m},f_{n})=f_{\text{gcd}(m,n)}$. Where $f$ is fibonacci. \href{./Material/fibonacci gcd.pdf}{proof}
	\item The sum of number of factors from $[1\ldots n]$ is $O(nlgn)$. This can be proved by observing, the answer is equal to sum of number of multiples $\leq n$ from $[1\ldots n]$.
	\item $ab\leq c \iff a\leq \floor*{c/b}$ \\
	$ab<c \iff a\leq \floor*{(c-1)/b}$\\
	$ab\geq c \iff a\geq \floor*{(c+b-1)/b}$ \\
	$ab> c \iff a\geq \floor*{(c+b)/b}$
	
	\item $1+3+5..+(2n-1) = n^2$
	\item Let $p = 2^i$ then if we keep on removing powers of 2 from p in non increasing order then p will become 0 before getting negative.
	\item Estimation of number of prime numbers is $n/lg(n)$ not $n/4$.
	\item $\floor*{n/i} = p$ iff $i \in (\floor*{n/(p+1)}, \floor*{n/p}]$
\end{itemize}

\section{Modulo}
\begin{itemize}
	\item If you want to calculate $a^b$ modulo p(prime) where b is very large ($b=100000^{100000}$) we can use Fermat's \textbf{little} theorem. As $a^{p-1}\equiv 1(mod p)$, $a^b\equiv a^{bmod(p-1)}(mod p)$.  
	\item For prime p, and any number a relatively prime to p, a,2a,3a..p*a are all distinct modulo p.
	\item But $a^1,a^2,\dotsc a^{p-1}$ are not distinct modulo p. (a=6, p=5)
	\item $ab \bmod ac = a(b \bmod c)$.
	\item Consider a number n, if you keep on modulo it by different numbers $x_i$, it only changes $logn$ times. Since every time it changes it becomes $\leq \frac{n}{2}$.
\end{itemize}

\section{CRT}
Find the solution set of $x\equiv a_1(mod n_1)$ and $x\equiv a_2(mod n_2)$.\\

Let $gcd(n_1,n_2)=d$ and find $x^\prime$ and $y^\prime$ s.t $n_1x^\prime + n_2y^\prime$ = d. (this is bezout's identity. Find it using Extended euclidean algorithm).\\
Note: d should divide $a_2-a_1$, otherwise there is no solution for the given two equations.

One of our solution is $x_o=a_1+x^\prime \frac{a_2-a_1}{d}n_1$. And our solution set is \\ $x_o+u*lcm(n_1,n_2), u\in Z$. This obtained solution set is equal to solution set of $x\equiv x_o(mod\;lcm(n1,n2))$.\\

For solving multiple equations combine first two equations in to one using above technique. Then again combine the newly obtained equation with the $3^{rd}$ one and so on.

\section{Euler's phi function}
\begin{itemize}
	\item Euler's phi function is multiplicative. \href{https://proofwiki.org/w/index.php?title=Euler_Phi_Function_is_Multiplicative&oldid=373969}{proof}.
	\item using above we can calculate $\varphi(n) = n\cdot \prod_{p\mid n}\left(1 - \frac1p\right).$ where p's are primes.
	\item Let any number k coprime to n then (k mod n) $\in \varphi(n)$.
	\item A more generalized form $\varphi (mn) = \varphi (m) \varphi (n) \cdot \dfrac{d}{\varphi (d)}$. This is when m and n aren't necessarily co-prime.
	\item if d\textbackslash n, the number of integers $k<=n$ and $GCD(k,n)=d$ are $\varphi(n/d)$.
	\item a more general euler's theorem (which is inturn more general fermat's little theorem) $x^{n}\equiv x^{\phi(m)+[n \bmod \phi(m)]} \mod m$. This is when x and m aren't necessarily coprime.
\end{itemize}
\end{document}